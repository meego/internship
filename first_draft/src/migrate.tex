\section{Migration de processus}
\label{sec:migration}

  \todo{TODO}

  Nous allons à présent nous intéresser au second objectif visé, qui est la
  migration de processus déja existants. Comme en section \ref{sec:creation}, on
  s'intéresse pour l'instant aux processus mono-thread.

  %% \subsection{Enjeux}

  %%   Comme vu précédemment, la migration va consister à déplacer un processus
  %%   d'un cluster à un autre. Ici, la principale différence réside dans le fait
  %%   que le processus que l'on veut déplacer est déjà créé. 

  %% \subsection{Problèmes}


  \begin{figure}[!h]
    \setlength{\unitlength}{1cm}
    \begin{picture}(10,10)(0, -10)
      \label{pic:task}
      %% Dashboxes
      \put(0.0, -2.0) {\framebox(1.5, 1.5)[c]{task}}
      \put(3.5, -2.0) {\framebox(1.5, 1.5)[c]{vmm\_s}}
      \put(1.5, -5.0) {\framebox(1.5, 1.5)[c]{pmm\_s}}
      \put(0.0, -8.0) {\framebox(1.5, 1.5)[c]{pgdir\_s}}
      \put(1.7, -8.0) {\dashbox{0.2}(1.5, 1.5)[c]{cluster\_s}}
      \put(3.4, -8.0) {\framebox(1.5, 1.5)[c]{page\_s}}
      \put(7.0, -2.0) {\framebox(2.5, 1.5)[c]{vm\_region\_s}}
      \put(11.5, -2.0){\framebox(2.5, 1.5)[c]{vm\_region\_op\_s}}
      \put(7.0, -5.0) {\dashbox{0.2}(2.0, 1.5)[c]{mapper\_s}}
      \put(9.5, -5.0) {\framebox(2.0, 1.5)[c]{vfs\_file\_s}}
      \put(12., -5.0) {\framebox(2.0, 1.5)[c]{vm\_data}}

      %% Arrows
      \thinlines

      %% Task --> vmm_s
      \put(2.0, -1.3) {\vector(1, 0)  {1}}
      %% vmm_s --> pmm_s
      \put(3.5, -2.2) {\vector(-1, -1){1}}
      %% pmm_s --> pgdir 
      \put(1.5, -5.3) {\vector(-1, -1){1}}
      %% pmm_s --> cluster_s
      \put(2.2, -5.3) {\vector(0,-1)  {1}}
      %% pmm_s --> page_s
      \put(3.0, -5.3) {\vector(1, -1) {1}}
      %% vmm_s --> vm_region_s
      \put(5.5, -1.3) {\vector(1, 0)  {1}}
      %% vmm_region_s --> vmm_region_op_s
      \put(10., -1.3) {\vector(1, 0)  {1}}
      %% vmm_region_s --> mapper_s
      \put(8.0, -2.2) {\vector(0, -1){1}}
      %% vmm_region_s --> vfs_file_s
      \put(9.0, -2.2) {\vector(1, -1){1}}
      %% vmm_region_s --> vm_data
      \put(9.5, -2.2) {\vector(3, -1){3}}
    \end{picture}
    \caption{Schéma des structures pointées à partir de la \texttt{struct task}
      dans le noyau ALMOS}
    \label{fig:task_struct}
  \end{figure}
